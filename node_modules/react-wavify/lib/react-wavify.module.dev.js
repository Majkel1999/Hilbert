import t,{Component as i}from"react";import n from"prop-types";function r(){return r=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}function e(t,i){return e=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t},e(t,i)}function s(t,i){if(null==t)return{};var n,r,e={},s=Object.keys(t);for(r=0;r<s.length;r++)i.indexOf(n=s[r])>=0||(e[n]=t[n]);return e}var h=["style","className","fill","paused","children","id","d","ref","height","amplitude","speed","points"],o=/*#__PURE__*/function(i){var n,o;function u(n){var r;return(r=i.call(this,n)||this).t=function(){return r.i.current.offsetWidth},r.h=function(){return r.i.current.offsetHeight},r.i=t.createRef(),r.state={path:""},r.o=0,r.u=0,r.l=0,r.p=r.p.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r)),r}o=i,(n=u).prototype=Object.create(o.prototype),n.prototype.constructor=n,e(n,o);var a=u.prototype;return a.v=function(){for(var t=[],i=0;i<=Math.max(this.props.points,1);i++){var n=i/this.props.points*this.t(),r=(this.l+(i+i%this.props.points))*this.props.speed*100,e=Math.sin(r/100)*this.props.amplitude,s=Math.sin(r/100)*e+this.props.height;t.push({x:n,y:s})}return t},a.m=function(t){var i="M "+t[0].x+" "+t[0].y,n={x:(t[1].x-t[0].x)/2,y:t[1].y-t[0].y+t[0].y+(t[1].y-t[0].y)},r=function(t,i){return" C "+t.x+" "+t.y+" "+t.x+" "+t.y+" "+i.x+" "+i.y};i+=r(n,t[1]);for(var e=n,s=1;s<t.length-1;s++)i+=r(e={x:t[s].x-e.x+t[s].x,y:t[s].y-e.y+t[s].y},t[s+1]);return(i+=" L "+this.t()+" "+this.h())+" L 0 "+this.h()+" Z"},a.g=function(){this.setState({path:this.m(this.v())})},a.j=function(){if(!this.props.paused){var t=new Date;this.u+=t-this.o,this.o=t}this.l=this.u*Math.PI/1e3,this.g()},a.p=function(){this.j(),this.M&&this.O()},a.O=function(){this.M=window.requestAnimationFrame(this.p),this.o=new Date},a.componentDidMount=function(){this.M||this.O()},a.componentWillUnmount=function(){window.cancelAnimationFrame(this.M),this.M=0},a.render=function(){var i=this.props,n=i.style,e=i.className,o=i.fill,u=i.children,a=i.id,f=s(i,h);/*#__PURE__*/return t.createElement("div",{style:r({width:"100%",display:"inline-block"},n),className:e,id:a,ref:this.i},/*#__PURE__*/t.createElement("svg",{width:"100%",height:"100%",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},u,/*#__PURE__*/t.createElement("path",r({d:this.state.path,fill:o},f))))},u}(i),u=o,a=n,f=["options"],c={height:20,amplitude:20,speed:.15,points:3},l=function(i){var n=i.options,e=s(i,f);/*#__PURE__*/return t.createElement(u,r({},c,n,e))};l.defaultProps={paused:!1,fill:"#fff"},l.displayName="Wave",l.propTypes={paused:a.bool,fill:a.string,options:a.object};export{l as default};
